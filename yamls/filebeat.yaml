image: elastic/filebeat:7.4.2
name: filebeat
imagePullPolicy: IfNotPresent
args: [
  "-c", "/etc/filebeat/filebeat.yml",
  "-e",
]
env:
- name: POD_IP
  valueFrom:
	fieldRef:
	  apiVersion: v1
	  fieldPath: status.podIP
- name: pod_name
  valueFrom:
	fieldRef:
	  apiVersion: v1
	  fieldPath: metadata.name
securityContext:
  runAsUser: 0
resources:
  limits:
	memory: 200Mi
  requests:
	cpu: 200m
	memory: 200Mi
volumeMounts:
- name: imp-gateway-log
  mountPath: /log
- name: config
  mountPath: /etc/filebeat/
- name: data
  mountPath: /usr/share/filebeat/data
